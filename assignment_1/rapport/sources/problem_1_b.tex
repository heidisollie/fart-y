

\subsection*{Problem 1.5}
For each time iteration, the desired attitude $\mathbf{q}_d(t)$ given by $\phi(t) = 10sin(0.1t), \theta(t) = 0, \psi(t) = 15cos(0.05t)$, was converted to radians and then converted to quaternions by the use of the MATLAB function \texttt{euler2q()}. This was then conjugated and cross multiplied with the current $\mathbf{q}$ iteration by the use of the MATLAB functions \texttt{quatconj()} and \texttt{quatmultiply()} respectively. By doing so, $\mathbf{\tilde{q}}$ was calculated as per equation \eqref{eq:q_tilde}.

The $\tilde{\epsilon}$ part of $\mathbf{\tilde{q}}$ was extracted and combined with $\omega$ to create the state vector and was multiplied with the $\mathbf{K}$ \todo{referer til der K er skrevet!}to create the control input in the same way as in {\color{blue} attitude1.m}. The initial values were kept the same as previously and the $k_p$ and $k_d$ were changed to 10 and 300 respectively. 

The simulation resulted in ...

\subsection*{Problem 1.6}

The attitude control law was modified to:
\begin{equation}
    \tau = -\mathbf{K}_d\tilde{\omega} -k_p\tilde{\epsilon}
    \label{eq:control_law_attitude3}
\end{equation}
\todo{Skal omega v√¶re i bold? Det er  ikke det i oppgaveteksten}

\subsection*{Problem 1.7}
The Lyapunov function can be written as 
 \begin{equation}
	 V = \frac{1}{2} \tilde{\boldsymbol{\omega}}^{\top} \mathbf{I}_{CG}\tilde{\boldsymbol{\omega}} + 2 k_p (1-\tilde{\eta})
 \end{equation}

\subsection*{Problem 1.8}
...

% Note that \mathbf can be used for bold letters in math mode (within equations and dollar signs). \boldsymbol can be used to get bold greek letters.  

